# 関数

- `main` 関数は多くのプログラムのエントリーポイント（プログラム実行時に最初に走る関数のこと）
- `fn` キーワードによって新しい関数を宣言する
- Rust の関数と変数の命名規則は**スネークケース**を使うのが慣例となっている

```rs
fn main() {
    println!("Hello, world!");

    another_function();
}

fn another_function() {
    println!("Another function.");
}
```

- 同じファイルの中であれば関数の定義の順序は任意

## 関数の引数

- 引数とは、関数シグニチャの一部になる特別な変数のこと
- 関数シグニチャには、各仮引数の型を宣言しなければなｒない

```rs
fn main() {
    another_function(5);
}

fn another_function(x: i32) {
    println!("The value of x is: {}", x);   // xの値は{}です
}
```

## 関数本体は、文と式を含む

- 関数本体は、文が並び、最後に式を置くか文を置くという形で形成される
- Rust は式指向言語なので式と文の違いは重要であり、他の言語にこの差異はない
- 文とは、何らかの動作をして値を返さない命令
- 式は結果値に評価される
- 例
  - `let` で変数を生成し、値を代入することは文になる
  - 関数定義も文になる
  - `let y = 6` という文の `6` は値 `6` に評価される式
  - 関数呼び出しは式
  - マクロ呼び出しも式
  - 新しいスコープを作る際に使用するブロック `{}` も式

以下の式:

```rs
{
    let x = 3;
    x + 1
}
```

は `4` に評価されるブロック。

- 式は終端にセミコロンを含まない
- 文は値を返さない

## 戻り値のある関数

- 関数は、それを呼び出したコードに値を返すことができる
- 矢印(->)の後に戻り値の型を書く
- `return` キーワードで関数から早期リターンし、値を指定することもできるが、多くの関数は最後の式を暗黙的に返す

```rs
fn five() -> i32 {
    5
}

fn main() {
    let x = five();
    println!("The value of x is: {}", x);
}
```
